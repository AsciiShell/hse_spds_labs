%!TEX TS-program = xelatex

% Шаблон документа LaTeX создан в 2018 году
% Алексеем Подчезерцевым
% В качестве исходных использованы шаблоны
% 	Данилом Фёдоровых (danil@fedorovykh.ru) 
%		https://www.writelatex.com/coursera/latex/5.2.2
%	LaTeX-шаблон для русской кандидатской диссертации и её автореферата.
%		https://github.com/AndreyAkinshin/Russian-Phd-LaTeX-Dissertation-Template

\documentclass[a4paper,14pt]{article}

\input{data/preambular.tex}
\begin{document} % конец преамбулы, начало документа
	\input{data/title.tex}
	\tableofcontents
	\pagebreak
	\section{Задание}
	
	\begin{enumerate}
		
		\item Изучить раздел 5.4 SDRAM Test in Nios II в \_DE1-SoC\_User\_manual.pdf;
		
		\item Запустить проект и продемонстрировать его работу;
		
		\item Изучить раздел 5.5 SDRAM Test in Verilog в \_DE1-SoC\_User\_manual.pdf;
		
		\item Запустить проект и продемонстрировать его работу;
		
		\item Описать отличия проекта SPDS\_Lab\_9\_DE1\_SoC\_SDRAM\_Nios\_Test, SPDS\_Lab\_9\_DE1\_SoC\_SDRAM\_RTL\_Test в их реализации;
		
		\item Изучить раздел 5.7 PS/2 Mouse Demonstration в \_DE1-SoC\_User\_manual.pdf;
		
		\item Запустить проект и продемонстрировать его работу;
		
		\item Привести описание проекта и его структуры, провести моделирование и включить в отчет вейвформы (Functional и Timing), демонстрирующие работу устройства;
		
		\item Модифицировать пример из раздела 5.4 или 5.5 так, чтобы тестирование памяти было с последовательностью, кодирующей номер группы, номер бригады и ФИО ее участников.
		
		\item 2.6 Разработать устройство отображающее на 7-сегментном индикаторе сообщения о выполняемых действиях (раз в 3 с.): ничего не происходит, клик левый (ЛКМ), клик правый (ПКМ), движение вправо/лево и т.д.  
		
	\end{enumerate}
	\pagebreak
	%{\small \VerbatimInput{../03_syn_pow_5_single_cycle_always/pow_5_single_cycle_always.v}}
	
	\section{Выполнение работы}
	
	\subsection{SDRAM Test in Nios II} 
	
	На рис. \ref{fig:niossh1} приведена структура построения NIOS ядра из проекта 5.4 SDRAM Test in Nios II.
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.7\linewidth]{images/nios_sh_1}
		\caption{Структура построения NIOS ядра}
		\label{fig:niossh1}
	\end{figure}
	
	Ниже приведены компоненты из NIOS ядра и их описания.
	
	\begin{itemize}
		
		\item clk\_50 -- генерация импульса с частотой 50 МГц;
		
		\item pll -- компонент для увеличения частоты и ее синхронизации;
		
		\item nios2 -- процессорное ядро;
		
		\item onchip\_memory -- память выделяемая на кристалле;
		
		\item sysid\_qsys -- идентификатор системы;
		
		\item timer -- таймер или счетчик;
		
		\item jtag\_uart -- модуль для взаимодействия с ПК;
		
		\item sdram -- оперативная память;
		
		\item key -- модуль для работы с кнопками на плате.
		
	\end{itemize}

	Программная часть состоит из двух проектов, проект самой прошивки и проект BSP (Board Support Package).
	BSP генерируется на на основе выбранных параметров для платы.
	Далее необходимо собрать проект с прошивкой, входной точкой является файл main.c, в котором подключаются все необходимые библиотеки для работы с платой.
	
	\subsection{SDRAM Test in Verilog} 
	
	В первом проекте (SDRAM Test in Nios II) использовалось NIOS ядро и вся работа по обработке данных производилась в этом синтезируемом NIOS ядре. При этом программа для ядра (прошивка) писалась на языке C.
	
	Во втором проекте (SDRAM Test in Verilog) синтезируются другие структуры, которые предназначены только для данной задачи. При этом плате не нужна никакая другая программа или прошивка. 
	
	Главное отличие между проектами в том, что в первом используется универсальный NIOS процессор, а во втором способе используются специализированные структуры.
	
	\subsection{5.7 PS/2 Mouse Demonstration} 
	
	Проект состоит из одного модуля, который обрабатывает данные с входа $PS \backslash 2$ и выводит информацию о нажатии клавиш и перемещении мыши.
	

	\section{Самостоятельная работа}
	
	\subsection{Модифицировать пример из раздела 5.4 или 5.5}
	
	Модифицировать пример из раздела 5.4 или 5.5 так, чтобы тестирование памяти было с последовательностью, кодирующей номер группы, номер бригады и ФИО ее участников.
	
	Была модифицирована программа из раздела 5.5, программа в режиме бегущей строки выводит на семисегментные индикаторы необходимую информацию. Результат тестирования представлен на рис. \ref*{fig:wvf1dop}.
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.9\linewidth]{images/wvf_1_dop}
		\caption{Вейвформа тестирования}
		\label{fig:wvf1dop}
	\end{figure}
	
	
	\subsection{Разработать устройство отображающее на 7-сегментном индикаторе сообщения о выполняемых действиях}
	
	Разработать устройство отображающее на 7-сегментном индикаторе сообщения о выполняемых действиях (раз в 3 с.): ничего не происходит, клик левый (ЛКМ), клик правый (ПКМ), движение вправо/лево и т.д.  
	
	Программа была реализована на языке верилог.
	
	Результаты работы можно наблюдать на вейвформе рис. \ref{fig:wvfdop}. К тестируемому модулю приходят уже обработанные сигналы с мышки, на выход подаются сигналы для семисегментных индикаторов.
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.9\linewidth]{images/wvf_dop}
		\caption{Вейвформа тестирования модуля выдачи сигналов}
		\label{fig:wvfdop}
	\end{figure}
	
	\section{Выводы по работе}
	
	В ходе работы была изучена работа с оперативной памятью в ПЛИС.
	Был рассмотрен вариант подключения оперативной памяти к NIOS.
	Был получен опыт в написании и анализе кода на языке С.
	Был рассмотрен вариант подключения оперативной памяти при помощи специализированных синтезируемых структур.
	Был получен опыт работы с оперативной памятью при помощи компонентов в $Platform Designer$.
	Был изучен протокол взаимодействия $PS \backslash 2$ .
	Итоговый проект был собран и загружен на плату.
	
	\newpage 
	\renewcommand{\refname}{{\normalsize Список использованных источников}} 
	\centering 
	\begin{thebibliography}{9} 
		\addcontentsline{toc}{section}{\refname} 
		\bibitem{Harris} Хэррис Д. М., Хэррис С. Л. Цифровая схемотехника и архитектура компьютера. – 2015.
	\end{thebibliography}
	
\end{document} % конец документа
